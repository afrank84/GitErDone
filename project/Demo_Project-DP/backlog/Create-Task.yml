ticket:
  project_key: "PROJECT_KEY"
  task_id: "{{ now('utc').strftime('%Y%m%d%H%M%S') }}"  # Unique ID based on current UTC datetime
  task_title: "Task_Title_Here"
  epic_name: "Epic_Name_Here"
  sprint: "2024-AUG"
  status: "Task_Status_Here"
  summary_description: "Brief overview of the task (max 60 characters)."
  acceptance_criteria:
    - "First_criterion_to_meet."
    - "Second_criterion_to_meet."
    - "Third_criterion_if_needed."
  links:
    - "Link_Description: http://link-to-resource.com"
  notes_and_comments: "Additional_information_or_comments."
  directory: "project/Demo_Project-DP/backlog"  # Custom directory path

# Script to generate markdown file

generate_markdown: |
  {% if ticket.summary_description|length > 60 %}
  Warning: The summary description exceeds 60 characters. Please shorten it.
  {% else %}
  # {{ ticket.project_key }}-{{ ticket.task_id }}: {{ ticket.task_title }}

  - Epic = {{ ticket.epic_name }}
  - Sprint = {{ ticket.sprint }}
  - Status = {{ ticket.status }}

  ## Description
  {{ ticket.summary_description }}

  ## Acceptance Criteria
  {% for criterion in ticket.acceptance_criteria %}
  - [ ] {{ criterion }}
  {% endfor %}

  ## Links
  {% for link in ticket.links %}
  - {{ link }}
  {% endfor %}

  ## Notes and Comments
  {{ ticket.notes_and_comments }}

  # Save the file as:
  filename: "{{ ticket.directory }}/ðŸ”µ{{ ticket.project_key }}-{{ ticket.task_id }}-{{ ticket.summary_description[:60] | replace(' ', '_') }}.md"
  {% endif %}
